(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["game"],{"06d6":function(t,r,e){"use strict";var n=e("e5a2"),o=e.n(n);o.a},"07ac":function(t,r,e){var n=e("23e7"),o=e("6f53").values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},"1baf":function(t,r,e){"use strict";var n=e("2bc1"),o=e.n(n);o.a},"2bc1":function(t,r,e){},"461e":function(t,r,e){"use strict";var n=e("bf42"),o=e.n(n);o.a},"54c4":function(t,r,e){},"6f53":function(t,r,e){var n=e("83ab"),o=e("df75"),s=e("fc6a"),i=e("d1e7").f,c=function(t){return function(r){var e,c=s(r),u=o(c),a=u.length,d=0,f=[];while(a>d)e=u[d++],n&&!i.call(c,e)||f.push(t?[e,c[e]]:c[e]);return f}};t.exports={entries:c(!0),values:c(!1)}},"7d36":function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"game"},[e("score",{attrs:{score:t.stats}}),e("word-current",{attrs:{round:t.round}}),e("div",{staticClass:"ui grid container two column stackable grid"},t._l(t.round.propositions,(function(r){return e("word-proposition",{key:r.id,attrs:{proposition:r,round:t.round},on:{submitanswer:function(e){return t.verify(r)}}})})),1)],1)},o=[],s=(e("fb6a"),e("d3b7"),e("07ac"),e("96cf"),e("89ba")),i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.round.currentWord?e("h1",{staticClass:"ui center aligned header"},[t._v(t._s(t.wordToGuess))]):t._e()},c=[],u={props:["round"],computed:{wordToGuess:function(){return"guessFromTranslation"===this.round.mode?this.round.currentWord.translation:this.round.currentWord.content}}},a=u,d=(e("461e"),e("2877")),f=Object(d["a"])(a,i,c,!1,null,"fc568ffe",null),l=f.exports,p=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"column"},[e("div",{staticClass:"ui segment",class:[t.isCorrect?"correct":"incorrect",{clicked:t.isClicked}],attrs:{role:"button"},on:{click:t.submitAnswer}},[t._v(" "+t._s(t.printedProposition)+" "),t.isClicked&&!t.isCorrect?e("span",[t._v(" ("+t._s(t.printedSolution)+")")]):t._e()])])},h=[],b={props:["proposition","round"],data:function(){return{isClicked:!1}},computed:{isCorrect:function(){return this.proposition===this.round.currentWord},printedProposition:function(){return"guessFromTranslation"!==this.round.mode?this.proposition.translation:this.proposition.content},printedSolution:function(){return"guessFromTranslation"!==this.round.mode?this.proposition.content:this.proposition.translation}},methods:{submitAnswer:function(){this.isClicked||(this.isClicked=!0,this.$emit("submitanswer"))}},watch:{currentWord:function(){this.isClicked=!1}}},v=b,m=(e("be3d"),Object(d["a"])(v,p,h,!1,null,"4b331c20",null)),w=m.exports,g=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.totalScorePercentage?e("div",{staticClass:"ui indicating progress"},[e("div",{staticClass:"bar",style:{width:t.totalScorePercentage+"%"}},[e("div",{staticClass:"progress"},[t._v(t._s(t.score.success)+" / "+t._s(this.score.success+this.score.errors)+" ("+t._s(t.totalScorePercentage)+"%)")])])]):t._e()},x=[],k={props:["score"],computed:{totalScorePercentage:function(){return Math.floor(100*this.score.success/(this.score.success+this.score.errors))}}},y=k,_=(e("06d6"),Object(d["a"])(y,g,x,!1,null,"122aa9f1",null)),C=_.exports,O=e("c55b"),S=function(t){var r,e,n=t.length;while(0!==n)e=Math.floor(Math.random()*n),n-=1,r=t[n],t[n]=t[e],t[e]=r;return t},R=S,j=e("c24f"),M={components:{wordCurrent:l,wordProposition:w,score:C},data:function(){return{words:[],round:{mode:null,currentWord:{},propositions:[]},stats:{success:0,errors:0}}},methods:{pickNewWords:function(){this.round.mode=this.getRandomMode(),this.round.propositions=R(this.words).slice(0,4),this.round.currentWord=this.round.propositions[Math.floor(4*Math.random())]},verify:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r!==this.round.currentWord){t.next=9;break}return t.next=3,this.sleep(700);case 3:return t.next=5,this.reinitialize();case 5:return t.next=7,this.success();case 7:t.next=10;break;case 9:this.stats.errors++;case 10:case"end":return t.stop()}}),t,this)})));function r(r){return t.apply(this,arguments)}return r}(),success:function(){var t=this;return new Promise((function(r){t.stats.success++,t.pickNewWords(),r()}))},reinitialize:function(){var t=this;return new Promise(function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(e){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.round.propositions=[],t.round.currentWord={},r.next=4,t.$nextTick();case 4:e();case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())},sleep:function(t){return new Promise((function(r){return setTimeout(r,t)}))},getRandomMode:function(){return 0===Math.floor(2*Math.random())?"guessFromTranslation":"guessFromMainLanguage"}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var r,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["a"])();case 2:return r=t.sent,t.next=5,O["b"](r.uid);case 5:e=t.sent,this.words=Object.values(e),this.pickNewWords();case 8:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}()},W=M,N=(e("1baf"),Object(d["a"])(W,n,o,!1,null,"744465cc",null));r["default"]=N.exports},"99af":function(t,r,e){"use strict";var n=e("23e7"),o=e("d039"),s=e("e8b5"),i=e("861d"),c=e("7b0b"),u=e("50c4"),a=e("8418"),d=e("65f0"),f=e("1dde"),l=e("b622"),p=l("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",v=!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=f("concat"),w=function(t){if(!i(t))return!1;var r=t[p];return void 0!==r?!!r:s(t)},g=!v||!m;n({target:"Array",proto:!0,forced:g},{concat:function(t){var r,e,n,o,s,i=c(this),f=d(i,0),l=0;for(r=-1,n=arguments.length;r<n;r++)if(s=-1===r?i:arguments[r],w(s)){if(o=u(s.length),l+o>h)throw TypeError(b);for(e=0;e<o;e++,l++)e in s&&a(f,l,s[e])}else{if(l>=h)throw TypeError(b);a(f,l++,s)}return f.length=l,f}})},be3d:function(t,r,e){"use strict";var n=e("54c4"),o=e.n(n);o.a},bf19:function(t,r,e){"use strict";var n=e("23e7");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},bf42:function(t,r,e){},c55b:function(t,r,e){"use strict";e.d(r,"b",(function(){return i})),e.d(r,"a",(function(){return u})),e.d(r,"c",(function(){return d})),e.d(r,"d",(function(){return f}));e("99af"),e("f4b3"),e("bf19"),e("96cf");var n=e("89ba"),o=e("6c1e"),s=o["a"].database();function i(t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(r){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.ref("/users/".concat(r,"/words")),t.next=3,e.once("value");case 3:return n=t.sent,t.abrupt("return",n.toJSON());case 5:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function u(t,r){return a.apply(this,arguments)}function a(){return a=Object(n["a"])(regeneratorRuntime.mark((function t(r,e){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.ref("/users/".concat(r,"/words")),o=n.push(),t.next=4,o.set(e);case 4:return t.abrupt("return",o.key);case 5:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}function d(t,r){return s.ref("/users/".concat(t,"/words/").concat(r)).remove()}function f(t,r,e){return s.ref("/users/".concat(t,"/words/").concat(r)).update(e)}},e5a2:function(t,r,e){},f4b3:function(t,r,e){"use strict";var n=e("23e7"),o=e("d039"),s=e("7b0b"),i=e("c04e"),c=o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));n({target:"Date",proto:!0,forced:c},{toJSON:function(t){var r=s(this),e=i(r);return"number"!=typeof e||isFinite(e)?r.toISOString():null}})},fb6a:function(t,r,e){"use strict";var n=e("23e7"),o=e("861d"),s=e("e8b5"),i=e("23cb"),c=e("50c4"),u=e("fc6a"),a=e("8418"),d=e("1dde"),f=e("b622"),l=f("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!d("slice")},{slice:function(t,r){var e,n,d,f=u(this),b=c(f.length),v=i(t,b),m=i(void 0===r?b:r,b);if(s(f)&&(e=f.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)?o(e)&&(e=e[l],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return p.call(f,v,m);for(n=new(void 0===e?Array:e)(h(m-v,0)),d=0;v<m;v++,d++)v in f&&a(n,d,f[v]);return n.length=d,n}})}}]);
//# sourceMappingURL=game.bc6d2be9.js.map